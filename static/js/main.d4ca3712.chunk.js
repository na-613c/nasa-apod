(this["webpackJsonp03-nasa-apod"]=this["webpackJsonp03-nasa-apod"]||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(7),o=a.n(c),l=(a(26),a(19)),i=(a(14),function(e){var t=e.onActiveStartDateChange,a=e.onChange,n=e.value;return r.a.createElement("div",{className:"App-calendar"},r.a.createElement(l.a,{onChange:a,value:n,onActiveStartDateChange:t}))}),u=a(16),s=(a(15),function(e){var t=e.img,a=e.setBigImage;return r.a.createElement("div",{className:"item",onClick:function(){return a(t)}},r.a.createElement(u.LazyLoadImage,{alt:t.title,effect:"blur",src:t.url,visibleByDefault:!0}),r.a.createElement("p",null,r.a.createElement("b",null,t.title)),r.a.createElement("p",null,t.date))}),m=(a(29),function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",{className:"round"}))}),d=function(e){var t=e.imgArray,a=e.setModal,n=e.isLoad,c=t.map((function(e,t){return r.a.createElement(s,{key:t,setBigImage:a,img:e})}));return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(m,null):r.a.createElement("div",{className:"App-all-content"},t?c:""))},g=function(e){var t=e.image,a=e.setModal;if(t.isShow){return r.a.createElement("div",{className:"background-big-image",key:t,onClick:function(e){"background-big-image"===e.target.className&&a()}},r.a.createElement("svg",{onClick:a,className:"modal__cross",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"})),r.a.createElement("div",{className:"big-image"},r.a.createElement("img",{src:t.url,alt:""}),r.a.createElement("p",null,t.title," [ ",t.date," ]"),r.a.createElement("a",{href:t.hdurl,target:"_blank",download:!0},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b")))}return r.a.createElement(r.a.Fragment,null)},f=a(20),p=function(e){var t=e.title,a=e.date,n=e.explanation;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("b",null,t)),r.a.createElement("p",null,a),r.a.createElement("p",{className:"Explanation"},n))},h=function(e){var t=e.img,a=e.setBigImage,c=Object(n.useState)(!0),o=Object(f.a)(c,2),l=o[0],i=o[1];return r.a.createElement("div",{className:"App-content"},r.a.createElement("div",{className:"Content-img"},t.isLoad?r.a.createElement(m,null):r.a.createElement("img",{onClick:function(){return a(t)},onMouseOver:function(){return i(!1)},onMouseOut:function(){return i(!0)},src:t.url,alt:t.title,title:t.title?"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f":""})),l&&!t.isLoad&&r.a.createElement(p,{title:t.title,date:t.date,explanation:t.explanation}))},v=(a(30),a(3)),E=a(8),w=a(4),I=a.n(w),b=a(6),y=a(2),O=a(5),A=a.n(O),S="SaoJfZRzRAH13d01ZBCtcITtjs6ydPcNhxjK4O7c",j="https://api.nasa.gov/planetary/apod",x=function(){var e=Object(b.a)(I.a.mark((function e(t){var a,n,r,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]&&c[1],n="".concat(j,"?date=").concat(L(t),"&api_key=").concat(S,"&hd=").concat(a),e.next=4,D(n);case 4:return r=e.sent,e.abrupt("return",N(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return"".concat(n,"-").concat(a,"-").concat(t)},D=function(e){return fetch(e).then((function(e){return e.json()}))},N=function(e){var t=e.url?e.url:A.a;return{url:e.hdurl?t:A.a,hdurl:e.hdurl?e.hdurl:t,title:e.title?e.title:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",date:e.date?e.date:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0430\u0442\u0430 \u0435\u0449\u0435 \u043d\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u0430 \u0438\u043b\u0438 \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445",explanation:e.explanation}},k={isLoad:!1,url:A.a,hdurl:A.a,title:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",date:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0430\u0442\u0430 \u0435\u0449\u0435 \u043d\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u0430 \u0438\u043b\u0438 \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445",explanation:""},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-IMAGE":return Object(y.a)(Object(y.a)({},e),{},{url:t.newImage.url,hdurl:t.newImage.hdurl,title:t.newImage.title,date:t.newImage.date,explanation:t.newImage.explanation,isLoad:!e.isLoad});case"SET-LOADING":return Object(y.a)(Object(y.a)({},e),{},{isLoad:!e.isLoad});default:return e}},R={isShow:!1,url:A.a,hdurl:A.a,title:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",date:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0430\u0442\u0430 \u0435\u0449\u0435 \u043d\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u0430 \u0438\u043b\u0438 \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445",explanation:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-MODAL":return e.isShow?Object(y.a)(Object(y.a)({},e),{},{isShow:!e.isShow}):Object(y.a)(Object(y.a)({},e),{},{isShow:!e.isShow,url:t.newImage.url,hdurl:t.newImage.hdurl,title:t.newImage.title,date:t.newImage.date,explanation:t.newImage.explanation});default:return e}},C=0,q={query:0,isLoad:!1,imagesArray:[]},_=function(e,t){return{type:"SET-ARRAY",imagesArray:e,query:t}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-ARRAY":return e.query===t.query?Object(y.a)(Object(y.a)({},e),{},{query:t.query,imagesArray:t.imagesArray,isLoad:!1}):Object(y.a)(Object(y.a)({},e),{},{isLoad:!0});case"START-LOADING":return Object(y.a)(Object(y.a)({},e),{},{query:t.query>e.query?t.query:e.query,isLoad:!0});default:return e}},F=Object(v.d)(Object(E.b)((function(e){return{image:e.imageReducer,modalImage:e.modalReducer,monthImages:e.monthImageReducer.imagesArray,isLoadMonthImages:e.monthImageReducer.isLoad}}),{setImage:function(e){return function(){var t=Object(b.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET-LOADING"}),t.next=3,x(e);case 3:n=t.sent,a({type:"SET-IMAGE",newImage:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setModalImage:function(e){return function(t){t(function(e){return{type:"SET-MODAL",newImage:e}}(e))}},setImagesArray:function(e){return function(){var t=Object(b.a)(I.a.mark((function t(a){var n,r,c,o,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=++C,a({type:"START-LOADING",query:n}),r=[],c=32-new Date(e.getFullYear(),e.getMonth(),32).getDate(),o=1;case 5:if(!(o<=c)){t.next=15;break}return l=new Date(e.getFullYear(),e.getMonth(),o),t.t0=r,t.next=10,x(l);case 10:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 12:o++,t.next=5;break;case 15:a(_(r.filter((function(e){return e.explanation})),n));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){var t=e.image,a=e.modalImage,c=e.monthImages,o=e.isLoadMonthImages,l=e.setImage,u=e.setModalImage,s=e.setImagesArray,m=function(){return localStorage.getItem("date")?new Date(localStorage.getItem("date")):new Date};Object(n.useEffect)((function(){l(m()),s(m())}),[]);return r.a.createElement("div",{className:"App-wrapper"},r.a.createElement(i,{onChange:function(e){L(e)===L(new Date)?localStorage.removeItem("date"):localStorage.setItem("date",e),l(e)},onActiveStartDateChange:function(e){var t=e.activeStartDate;e.value,e.view;s(t)},value:m()}),r.a.createElement(h,{img:t,setBigImage:u}),r.a.createElement(d,{imgArray:c,setModal:u,isLoad:o}),r.a.createElement(g,{image:a,setModal:u}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(18),Y=Object(v.c)({imageReducer:M,modalReducer:T,monthImageReducer:B}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.d,J=Object(v.e)(Y,z(Object(v.a)(G.a)));window.store=J;var P=J;o.a.render(r.a.createElement(E.a,{store:P},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports=a.p+"static/media/not_found.e9ff6ff5.gif"}},[[21,1,2]]]);
//# sourceMappingURL=main.d4ca3712.chunk.js.map